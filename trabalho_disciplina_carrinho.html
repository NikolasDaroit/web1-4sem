<!DOCTYPE html>
<html>
<head>
	<title>Loja Virtual</title>
	<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

	<link rel="stylesheet" href="./trabalho_disciplina.css" >
	<script src="./trabalho_disciplina.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<style type="text/css">
		
		.container {
			margin-top: 10px;
			margin: auto;
			max-width: 50%;
		}
		@media only screen and (max-device-width: 640px) {
		    .container {
			
				max-width: 100%;
			}

		}

		.produtos {
			
		}
		.description {
			margin-top: 20px;
			text-align: center;
			font-weight: bold;
		}
		td {
			text-align: center;
		}
		.bolder {
			font-weight: bold;
			background-color: rgba(0,0,0, 0.5);
		}

		thead {
			background-color: rgba(0,0,0, 0.2);
		}
		table {
		    border-collapse: collapse;
    		width: 100%;
    		background-color: rgba(0,0,0, 0.1);
    		border: 1px ;
		}
		tbody tr:hover {
			background-color: rgba(0,0,0, 0.1);
		}
		th {
			width: 25%;
		}
		table th:first-child {
		  border-radius:10px 0 0 0;
		}

		table th:last-child {
		  padding-right: 10px;
		  border-radius:0 10px 0  0;
		}
		

	</style>


	
</head>
<body>
	<div class="menu">
		
	</div>
	<div class="navbar">
		<ul>
		  <li><a id="products">Products</a></li>
		  <li> 
			<a href="#" class="right">Cart <i class="fa fa-shopping-cart  fa-lg	"></i></a>
		  </li>
		</ul>
		
	</div>
	<div class="description"></div>
	<div class="container total">


		<div id="carrinhodecompras">
			<table >
			    <thead>
			        <tr>
			            <th>Product</th>
			            <th>Description</th>
			            <th>Quantity</th>
			            <th>Price</th>
			            <th>Total</th>
			            <th>Remove</th>
			        </tr>
			    </thead>
			    <tbody>
			    	
				</tbody>
				<tfoot>
					
				</tfoot>
			</table>
			<button class="btn" style="margin-left:35%;" id="finalizar" >Finalizar compra</button>
		</div>		
	</div>

	<script type="text/javascript">
		
		$(function() {
	   		let searchParams = new URLSearchParams(window.location.search)
			if (searchParams.has('image')){

				let number = searchParams.get('image');

				$('#carrinhodecompras tbody').append(appendToTable(number, number));
				number = + number +  1;
				$('#carrinhodecompras tbody').append(appendToTable(number, number));
				number = + number +  1;
				$('#carrinhodecompras tbody').append(appendToTable(number, number));
				total = 0;
				$('.price').each(function() {
				    total += parseInt( $(this).text());
				});
				$('#carrinhodecompras tfoot').append('<tr class= "bolder"> <td colspan="3" >Grand total </td> <td colspan="3"> '+total+'</td></tr>');
				
				// $('#carrinhodecompras').after('<button class="btn" style="margin-left:35%;" id="finalizar" >Finalizar compra</button>');
				$('#carrinhodecompras').show()
				
				
			}else{
				var text = '<section>Sem itens no carrinho. Selecione um item, ap√≥s isso, acesse o carrinho novamente.</section>' 
				$( text ).appendTo('.description');
				$('#carrinhodecompras').hide()
				
			}

		});
	</script>
</body>

</html>